\chapter{Analiza dziedziny problemu}
\label{cha:analizaDziedzinyProblemu}

{\it
	Niniejszy rozdział stanowi wprowadzenie do problematyki analizowanej i omawianej w przedstawionej pracy. U podstaw pracy leżą zagadnienia związane z  systemami zarządzania tożsamościami. Jest to koncepcja opisująca mechanizmy systemów magazynowania, przetwarzania i wykorzystywania tożsamości użytkowników na różnych etapach obsługi klientów. Celem stawianym przed systemami tego typu jest zapewnienie bezpieczeństwa wymiany informacji a także zwiększenia zakresu funkcjonalności oferowanych użytkownikom. Rozdział zawiera definicję i opis funkcjonowania systemów zarządzania tożsamościami. Wprowadza również pojęcie federacji tożsamości - połączenie pomiędzy różnymi tożsamościami tego samego użytkownika. 

	Rozdział porusza tematykę zastosowania mechanizmów jednokrotnego uwierzytelniania dla dostępu do różnych aplikacji. Opisuje architekturę najczęstszych rozwiązań wykorzystujących to podejście do przydzielania praw dostępu do zasobów systemów informatycznych. 

	Niniejsza praca koncentruje się na analizie zastosowań koncepcji systemów zarządzania tożsamości w architekturze zorientowanej na usługi. Kluczowym elementem rozwiązań opartych o architekturę tego typu są serwisy - funkcjonalności udostępnianie  klientom, zamknięte w ramach dobrze zdefiniowanych interfejsów. Rozdział prezentuje elementy architektury zorientowanej na usługi, przedstawia strukturę powiązań i zależności pomiędzy nimi, opisuje sposób funkcjonowania systemów realizowanych w oparciu o architekturę tego typu. 

}

%---------------------------------------------------------------------------

\section{Podstawowe aspekty związane z bezpieczeństwem systemów informatycznych}
\label{sec:aspektyBezpieczenstwa}

Zagadnienie zapewnienia bezpieczeństwa w kontekście systemów komputerowych odnosi się do metod ochrony informacji zawartych w systemie informatycznym przed nieupoważnionym dostępem oraz metod gwarantowania poufności i integralności przetwarzanych danych. Dotyczy również problematyki zapewniania dostępności i wiarygodności funkcjonalności dostarczanych przez systemy informatyczne. Zadaniem stawianym przed mechanizmami zapewniania bezpieczeństwa systemów informatycznych jest minimalizacja prawdopodobieństwa naruszenia któregoś z czynników warunkujących poziom bezpieczeństwa systemu. 

Istnieją 4 podstawowe metody zabezpieczania systemów informatycznych \cite{Russell91}:

\begin{itemize}
	\item Kontrola dostępu do systemu, której celem jest umożliwienie korzystania z zasobów systemu jedynie uwierzytelnionym i uprawnionym użytkownikom. W obrębie tej metody mieszczą się również funkcjonalności systemu wymuszające na użytkownikach zgodność z przyjętymi procedurami zwiększania bezpieczeństwa systemu. Obejmuje ona również działania związane z monitorowaniem zdarzeń w systemie - szczególnie tych związanych z pozyskiwaniem dostępu do zasobów systemu. 
	\item Kontrola dostępu do danych - polegająca na definiowaniu uprawnień użytkowników do korzystania z informacji zawartych w systemie pod określonymi warunkami.
	\item Administracja systemu i jego aspektów bezpieczeństwa - obejmuje działania administracyjne takie jak nadzór nad realizacja założeń przyjętej polityki bezpieczeństwa lub analizę zagrożeń bezpieczeństwa systemu i redukcję ryzyka wystąpienia tych zagrożeń. 
	\item Uwzględnienie zagrożeń bezpieczeństwa systemu na etapie projektowania architektury aplikacji. 
\end{itemize} 
		
\subsection{Kontrola dostępu do systemów informatycznych}

	Podstawą kontroli dostępu do systemów informatycznych jest proces identyfikacji i uwierzytelniania użytkowników. W procesie tym klient aplikacji przedstawia swoją tożsamość oraz dowodzi jej. Istnieją różne typy potwierdzania tożsamości użytkowników aplikacji. Najbardziej popularnym sposobem jest weryfikacja wiedzy użytkownika dotyczącej jego atrybutów bezpieczeństwa(najbardziej powszechnie wykorzystywanym podejściem jest zastosowanie haseł). Inne podejście zakłada konieczność posiadania atrybutu potwierdzającego tożsamość użytkownika. Atrybutem tym może być klucz, identyfikator, karta(np. bankomatowa) czy token. Istnieją również metody oparte o cechy użytkownika np. odcisk palca, obraz siatkówki oka, głos, podpis. Cechy zgromadzone w systemie biometrycznym porównywane są z cechami uwierzytelnianego użytkownika i na tej podstawie przydzielane są prawa dostępu do systemu.

	Potwierdzona tożsamość użytkownika aplikacji wykorzystywana jest w procesie określania jego uprawnień do poszczególnych zasobów systemu. Często systemy wykorzystują informacji o tożsamości użytkownika podczas logowania zdarzeń zachodzących w systemie. Najczęściej systemy przypisują użytkowników do grup określających uprawnienia swoich członków.

%---------------------------------------------------------------------------


\section{Koncepcja cyfrowego zarządzania tożsamościami(IdM)}
\label{sec:konceptcjaIdM}

	Zarządzanie tożsamościami(Identity Management) jest podejściem do zagadnienia zapewnienia bezpieczeństwa dostępu do aplikacji w oparciu o dane identyfikujące użytkownika(Identity). Pojęcie danych identyfikujących może być zdefiniowane jako ,,informacje o jednostce pozwalające na identyfikację tej jednostki dla pewnej dziedziny zastosowań''\cite{Itu09}. W kontekście systemów zarządzania cyfrowymi tożsamościami dane identyfikujące mogą dotyczyć nie tylko osób ale również na przykład komponentów programowych\cite{Bertino11}. Zgodnie z rekomendacją Y.2720 w skład danych identyfikujących wchodzą identyfikator jednostki, dane uwierzytelniające jednostkę oraz atrybuty opisujące jednostkę\cite{Itu09}.

	Elisa Bertino i Kenji Takahashi w książce ,,Identity Management'' definiują cele zarządzania tożsamościami jako ,,utrzymanie integralności danych identyfikujących w trakcie ich użytkowania w celu udostępniania tych danych i powiązanych z nimi informacji w sposób bezpieczny i chroniący prywatność użytkowników''\cite{Bertino11}.
	 
	\subsection{Role w koncepcji systemów zarządzania tożsamościami}

		Systemy zarządzania tożsamościami charakteryzują się rozdzieleniem odpowiedzialności związanych z dostarczaniem funkcjonalności oraz zadań związanych z zapewnieniem bezpieczeństwa dostępu do aplikacji. Usługi uwierzytelniania i autoryzacji oraz funkcjonalności systemów dostarczane są dla jednostek - składowych systemu zarządzania tożsamościami - zazwyczaj użytkowników.
		Dane identyfikacyjne jednostek są gromadzone i wykorzystywane w trakcie korzystania z aplikacji. Dane osobowe mogą obejmować informacje związane z dokumentami tożsamości(numery dowodu osobistego, paszportu), dane bankowe, biometryczne oraz informacje związane z przebiegiem interakcji jednostki z systemem. Dane identyfikacyjne jednostek powinny być przetwarzane i gromadzone w sposób zapewniający  ochronę przed niewłaściwym użyciem. Nadużycia danych osobowych jednostek mogą prowadzić do istotnych strat użytkowników aplikacji.
		Elementem przeprowadzającym weryfikację tożsamości jednostek jest usługa ,,Identity Provider''(IdP). Usługa ta odpowiedzialna jest za przyporządkowywanie jednostkom atrybutów opisujących tożsamość, tworzenie powiązań pomiędzy różnymi atrybutami jednostki oraz tworzenie asercji zawierających informacje o atrybutach jednostek. 

		Usługa 'Identity Provider' może współpracować z innymi usługami tego typu dołączając do danych uwierzytelniających informacje udostępniane przez inne zaufane usługi IdP. Wykorzystanie danych uwierzytelniających dostarczanych przez inne usługi uwierzytelniające wymaga wprowadzenia procesu zapewnienia wiarygodności otrzymywanych danych. Proces ten może opierać się na przypisywaniu miary wiarygodności do atrybutów uwierzytelniających. Wyznaczenie wartości tej miary może być na przykład oparte o ocenę stopnia zaawansowania mechanizmów weryfikacji danych uwierzytelniających wykorzystywanych przez usługę dostarczająca dany atrybut tożsamości.

		Dostawcy usług wykorzystujący infrastrukturę systemów zarządzania tożsamościami przed zezwoleniem na dostęp do swoich zasobów zlecają usługom typu IdP przeprowadzenie procesu uwierzytelniania klienta na podstawie otrzymanych danych uwierzytelniających. Dostawcy usług powinni mieć możliwość deklaracji poziomu skuteczności zabezpieczeń wykorzystywanych w procesie autoryzacji dostępu do określonych zasobów. Poziom ten może być różny w zależności od rodzaju zasobu.

		Przedstawiona w książce ,,Identity Management Concepts, Technologies, and Systems'' terminologia wprowadza również pojęcie jednostki nadzorującej\cite{Bertino11}. Jest to najczęściej instytucja upoważniona prawnie do nadzoru nad procesami przetwarzania i przechowania danych osobowych lub wglądu  w informacje o charakterze poufnym.

	\subsection{Relacje między rolami w systemach zarządzania tożsamościami}

		\begin{figure}[h]
			\centering
			\includegraphics[width=15cm]{img/idmRelations.jpg}
			\caption{Relacje miedzy rolami w systemach zarządzania tożsamościami}
			\label{Relacje miedzy rolami w systemach zarządzania tożsamościami}
		\end{figure}

		Często stosowanym modelem jest infrastruktura złożona z jednej usługi typu ,,Identity Provider'' oraz wielu usług funkcjonalnych opierających na niej swoje mechanizmy zabezpieczeń. Dzięki takiemu rozwiązaniu dostawcy usług mogą skoncentrować się na tworzeniu funkcjonalności stanowiących istotę aplikacji - odpowiedzialności związane z zapewnieniem bezpieczeństwa dostępu delegowane są do usługi IdP. Specjalizowana usługa uwierzytelniania może dostarczać bardziej zaawansowanych zabezpieczeń. Dzięki realizacji tego modelu użytkownicy nie muszą zarządzać wieloma danymi uwierzytelniającymi dla różnych usług - dostęp do wielu serwisów gwarantowany jest przy użyciu tych samych danych. Wprowadza to jednak zagrożenia związane z centralizacja dostępu do różnych usług.

	\subsection{Federated Identity Management}

		Najczęściej użytkownicy korzystają nie z jednej usługi lecz z szerokiej gamy różnych usług. Każda z usług korzysta z własnych danych uwierzytelniających. Podejście ,,Federated Identity Management'' umożliwia tworzenie powiązań pomiędzy tożsamościami użytkownika w ramach różnych usług dzięki czemu dane uwierzytelniające każdej z sfederowanych usług mogą być wykorzystane w procesie uwierzytelniania dowolnej z usług.

	\subsection{Cykl życia tożsamości}

		Jednym z głównych zadań systemów zarządzania tożsamościami jest kontrola nad cyklem życia tożsamości. Autorzy książki ,,Identity Management: Concepts, Technologies and Systems'' opisują 4 etapy cyklu życiu tożsamości: tworzenie, użytkowanie, aktualizacja oraz wycofanie z użycia\cite{Bertino11}.

		Proces tworzenia cyfrowej tożsamości składa się z kilku kroków. Pierwszym z nich może być weryfikacja przedstawionych atrybutów tożsamości, wymagająca udowodnia przez jednostkę prawdziwości wprowadzanych danych. Następnie tworzone są dane uwierzytelniające. Ostatnim krokiem jest utworzenie tożsamości na podstawie otrzymanych danych oraz nadanie jednostce identyfikatora.

		Utworzona tożsamość może być wykorzystywana w różnych celach, np. zapewnienia wiarygodnej komunikacji lub w procesie jednokrotnego uwierzytelniania(ang. Single Sign-On).

		Systemy zarządzania tożsamościami powinny obsługiwać zmiany atrybutów tożsamości. Powinny aktualizować informacje o danych jednostek po zmianach wysyłając powiadomienia do usług przechowujących te dane, np. ,,Identity Provider''. Identyfikatory jednostek nie powinny podlegać zmianom. Systemy IdM muszą również usuwać tożsamości jeśli nie są już aktualne.

\section{Jednokrotne uwierzytelnianie}

	Książka ,,Identity Management: Concepts, Technologies and Systems'' definiuje jednokrotne uwierzytelnianie(ang. Single Sign-On) jako proces uwierzytelniania, w którym jednostka może wykorzystać wynik pojedynczego uwierzytelniania dla uzyskania dostępu do wielu niezależnych usług z ochroną dostępu\cite{Bertino11}. 

	Podstawą funkcjonowania mechanizmów jednokrotnego uwierzytelniania jest nawiązanie relacji zaufania pomiędzy dostawcami usług oraz serwisami typu ,,Identity Provider''. Po uwierzytelnieniu użytkownika w ramach jednej z usług objętych mechanizmem SSO dostęp do innej nie wymaga uwierzytelniania - dane uwierzytelniające są mapowane na dane niezbędne do uwierzytelnienia względem innej usługi oraz generowane są informacje pozwalające na uzyskanie dostępu do serwisu. Usługi korzystające z mechanizmu jednokrotnego uwierzytelniania powinny otrzymywać informacje kontekstowe o przebiegu procesu uwierzytelniania takie jak: wykorzystywane metody uwierzytelniania oraz sposób ochrony danych uwierzytelniających. Informacje te pozwalają na ocenę stopnia wiarygodności przeprowadzonego procesu uwierzytelniania.

	\subsubsection{Architektura systemów jednokrotnego uwierzytelniania}

		Implementacja mechanizmu jednokrotnego uwierzytelniania może opierać się o różne architektury. Autorzy książki ,,Identity Management: Concepts, Technologies and Systems''\cite{Bertino11} wymieniają następujące typy architektur systemów jednokrotnego uwierzytelniania:

		\begin{itemize}
		  \item Architektura oparta o brokery - architektura składająca się z punktu centralnego(serwera) oraz jednostek przez niego uwierzytelnianych. Serwer przydziela użytkownikom tokeny uwierzytelniające, dzięki którym możliwy jest dostęp do aplikacji. Przykładem architektury tego typu jest protokół Kerberos. 
		  \item Architektura oparta o agenty - architektura, w której w dostępie do każdej aplikacji pośredniczy agent uwierzytelniania. Jego rolą jest translacja pomiędzy metodą uwierzytelniania zastosowaną przez klienta a mechanizmami obsługiwanymi przez aplikację.
		  \item ,,Reverse proxy-based architecture'' - architektura wprowadzająca usługę proxy pośredniczącą w dostępie do wszystkich aplikacji objętych procedurą SSO. Moduł proxy dokonuje filtrowania przychodzących komunikatów - nieuwierzytelnione żądania zostają przekierowane, np. do serwera uwierzytelniającego.
		\end{itemize}
		  
		Procedura jednokrotnego uwierzytelniania pozwala na wygodniejszy sposób korzystania z aplikacji - znosi konieczność wielokrotnego wprowadzania danych identyfikujących. Użytkownik nie musi też zapamiętywać wielu haseł dla różnych usług. Wiele prostych haseł może zostać zastąpionych jedną bardziej wiarygodną metodą uwierzytelniania(np. z wykorzystaniem bardziej skomplikowanego hasła). Wadą wprowadzenia procedury jednokrotnego uwierzytelniania jest jednak centralizacja punktu dostępu do różnych aplikacji - złamanie zabezpieczeń otworzy drogę do wielu usług użytkownika.

%---------------------------------------------------------------------------

\section{Service-Oriented Architecture}
\label{sec:soa}

	Architektura zorientowana na usługi(ang. Service-Oriented Architecture) to architektura systemów informatycznych oparta o strukturę luźno powiązanych, rozproszonych usług, które mogą być wielokrotnie wykorzystywane i łączone w celu realizacji wymagań stawianych aplikacji. Architektura zorientowana na usługi umożliwia integrację usług w złożone procesy\cite{Lawler08}. Usługi składające się na architekturę SOA udostępniają swoje  funkcjonalności w ramach zdefiniowanych interfejsów i są od siebie niezależne. Komunikacja pomiędzy serwisami odbywa się poprzez wywołania dostarczanych przez nie operacji\cite{Papazoglou07}. 

	Architektura SOA zaprojektowana została jako rozwiązanie wielu problemów pojawiających się w trakcie tworzenia systemów rozproszonych. Do problemów tych należą: integracja aplikacji, zarządzanie transakcjami, zapewnienia bezpieczeństwa wykonywanych operacji, różnorodność środowisk uruchamiania aplikacji\cite{Papazoglou07}.

	Jednym z głównych założeń architektury zorientowanej na usługi jest niezależność od technologii implementacji. Jest to możliwe dzięki wykorzystaniu standardowych interfejsów usług oraz metod komunikacji pomiędzy nimi. Usługi w architekturze SOA są autonomiczne, same przechowują swój stan. W architekturze SOA wszelkie funkcjonalności są udostępniane w postaci usług.
	
	\subsection{Model architektury zorientowanej na usługi}
	
		Model SOA definiuje charakterystyczne elementy architektury - komponenty, usługi i przetwarzanie informacji pomiędzy nimi - realizujące określone procesy biznesowe. Model ma budowę warstwową. Definicja warstw modelu ma na celu bardziej precyzyjne odwzorowanie pomiędzy wymaganiami biznesowymi, modelowaniem funkcjonalności a realizacją konkretnych rozwiązań dla stawianych wymagań. Kluczową cechą charakterystyczną dla architektury SOA jest wyraźny rozdział pomiędzy interfejsem opisującym usługę a jej implementacją. Model architektury SOA umożliwia wydzielenie części odpowiedzialnych za poszczególne typy zadań oraz upraszcza proces projektowania i tworzenia aplikacji opartych o architekturę zorientowaną na usługi\cite{Arsanjani07}. 

		\begin{figure}[h]
			\centering
			\includegraphics[width=15cm]{img/s3.jpg}
			\caption{Warstwy modelu architektury zorientowanej na usługi, źródło - \textit{http://www.ibm.com/developerworks/library/ar-archtemp/}}
			\label{soaModel}
		\end{figure}
		
		Model architektury SOA składa się z dwóch typów warstw. Warstwy oznaczone na rysunku przy pomocy bloków poziomowych ilustrują cechy funkcjonalne rozwiązań architektury SOA. Bloki pionowe przedstawiają cechy niefunkcjonalne odnoszące się do warstw funkcjonalnych. Model wprowadza rozgraniczenie pomiędzy dostawcami oraz konsumentami usług. Model zakłada powiązanie relacjami biznesowymi pomiędzy obydwoma grupami. Wyraźne rozdzielenie pomiędzy dostawcami i konsumentami usług pozwala określić kompetencje i wymagania stawiane obydwu rolom w architekturze SOA. Do warstw przypisywanych dostawcom usług należą niższe warstwy modelu - serwisów, komponentów oraz warstwa operacyjna. Wyższe warstwy - serwisów, procesów biznesowych oraz konsumentów - przypisane są konsumentom usług. 

		Cele stawiane tworzonej architekturze SOA wyznaczane są przez zestaw wymagań funkcjonalnych i niefunkcjonalnych stawianych systemom. Wśród wymagań niefunkcjonalnych, jakie uwzględniane są w opisie architektury SOA można wyróżnić - bezpieczeństwo, dostępność, wiarygodność, łatwość zarządzania, skalowalność oraz wymagania dotyczące wydajności dostarczanych rozwiązań. Wymagania realizowane są poprzez udostępniane serwisy.Realizacja wymagań może być osiągnięta poprzez funkcjonowanie jednej warstwy modelu architektury SOA lub poprzez połączenie działania wielu warstw. Kluczowym aspektem implementacji rozwiązań opartych o architekturę SOA jest identyfikacja wymagań stawianych systemowi i odzwierciedlenie tych wymagań na poszczególne warstwy modelu aplikacji. 

		\subsubsection{Warstwy funkcjonalne modelu architektury SOA}


			Warstwa operacji obejmuje wszelkie aplikacje uruchamiane w środowisku architektury SOA, wspierające funkcje biznesowe systemu. W tej warstwie włączane są istniejące aplikacje, których zastosowanie pomaga w realizacji celów stawianych systemowi. Pozwala to na wielokrotne wykorzystanie opracowywanych rozwiązań\cite{Arsanjani07}. 

			Warstwa komponentów serwisowych składa się z elementów dostarczających realizacji usług. Komponenty serwisów zawierają definicję cech funkcjonalnych i niefunkcjonalnych udostępnianych usług. Komponenty dostosowują kontrakt usług opisany w warstwie serwisów do wykorzystanych w systemie mechanizmów realizacji i implementacji funkcjonalności. Zadaniem komponentów jest spełnienie wymagań dotyczących jakości usług. Zwiększają elastyczność procesu realizacji wymagań biznesowych poprzez umożliwienie łatwego komponowania usług realizujących wymagane funkcjonalności. Ułatwiają techniczne aspekty dostarczania serwisów poprzez rozdzielenie interfejsu usług od mechanizmów implementacyjnych.

			Warstwa serwisów składa się ze wszystkich serwisów zdefiniowanych w ramach architektury SOA. Usługa jest zbiorem funkcjonalności biznesowych udostępnianych przez aplikację w ramach dobrze zdefiniowanych interfejsów. Warstw serwisów udostępnia interfejsy usług w postaci opisu. Opis usługi obejmuje informacje potrzebne do jej wywołania. Warstwa zawiera kontrakty dostarczania u wykorzystywania serwisów pomiędzy dostawcami i odbiorcami usług. Dostęp do serwisów jest niezależny od zastosowanych mechanizmów implementacji i transportu danych. 

			Warstwa procesów biznesowych definiuje mechanizmy kompozycji usług udostępnianych w warstwie serwisów. Kompozycja serwisów jest połączeniem usług w celu osiągnięcia przy ich użyciu określonych funkcjonalności - realizacji określonych procesów biznesowych. Warstwa obejmuje reprezentację procesów oraz mechanizmy kompozycji usług. Określa standardy wymiany informacji pomiędzy uczestnikami procesy biznesowego. Procesy determinowane są przez wymagania stawiane funkcjonalnościom dostarczanym przez system. Warstwa pełni rolę głównego łącznika pomiędzy wymaganiami z perspektywy klientów biznesowych a realizacją oczekiwanych funkcjonalności po stronie dostawcy usług.

			Warstwa konsumenta usług obejmuje metody dostarczania serwisów do użytkowników zgodnie z ich preferencjami. Uniezależnia korzystanie z procesów biznesowych od zastosowania konkretnego kanału komunikacyjnego. Warstwa wprowadza wzorce zastosowania pojedynczego punktu dostępu do usług systemu oraz pojedynczego punktu prezentacji wiedzy o systemie.

		\subsubsection{Warstwy niefunkcjonalne modelu architektury SOA}

			Funkcjonowanie rozwiązań w oparciu o architekturę SOA jest w dużej mierze możliwe dzięki mechanizmom zdefiniowanym w warstwie integracji. Warstwa ta umożliwia kierowanie i transport żądań klientów usług do odpowiednich dostawców serwisów. Pozwala na integrację pomiędzy różnymi usługami poprzez zastosowanie mechanizmów komunikacji punkt-punkt oraz bardziej zaawansowanych technik sterowania ruchem komunikatów(ang. \textit{routowania}) i transformowania zawartości wiadomości. Warstwa odpowiada głównie za integrację działania warstw komponentów, serwisów oraz procesów biznesowych. Definiuje standardy rozdzielenie pomiędzy dostawcami i konsumentami usług(np. poprzez wprowadzenie warstwy pośredniczącej - magistrali usług ESB)\cite{Arsanjani07}.

			Warstwa gwarantowania jakości dostarczania usług odpowiada za realizację wymagań niefunkcjonalnych stawianych systemowi. W zakres odpowiedzialności przypisanych tej warstwie wchodzą monitorowanie i logowanie parametrów jakości udostępniania usług oraz sygnalizowanie przypadków niezgodności aktualny parametrów opisu jakości z wymaganiami stawianymi systemowi opartemu o architekturę SOA. Dostarcza metody zapewniania jakości usług w kontekście wiarygodności, dostępności, łatwości zarządzania, skalowalności i bezpieczeństwa. 

			Warstwa architektury danych i inteligencji biznesowej zapewnia dostarczenie kluczowych mechanizmów strukturalizacji danych stosowanych w celu realizacji zadań systemów inteligencji biznesowej w oparciu o narzędzi typu magazyny danych(ang. \textit{Data warehouses}). Warstwa odpowiada za przechowywanie metadanych oraz informacji o strukturze dostępnych danych. 

			Kierowanie funkcjonowaniem systemu opartego o architekturę SOA możliwe jest dzięki metodom zdefiniowanym w ramach warstwy zarządzania. Warstwa może kontrolować działanie każdej innej warstwy modelu. Jej funkcjonowanie wpływa na zapewnienie parametrów jakości dostarczania usług. Odpowiada za kierowanie wydajnością działania systemu oraz zarządza mechanizmami bezpieczeństwa. 

	\subsection{Enterprise Service Bus} 

		W istniejących środowiskach dostarczania usług występuje często duża niejednorodność technologii, protokołów komunikacji i modeli wykorzystywanych przez różne serwisy. Jednym z rozwiązań tego problemu jest wprowadzenie warstwy pośredniczącej, która implementuje logikę pozwalającą na integrację różnorodnych usług. Rozwiązanie to stanowi podstawę dla koncepcji magistrali usług(ang. Enterprise Service Bus). 

		\begin{figure}[h]
			\centering
			\includegraphics[width=15cm,height=8cm]{img/esb.jpg}
			\caption{Schemat funkcjonowania magistrali usług}
			\label{Schemat funkcjonowania magistrali uslug}
		\end{figure}

		Magistrala ESB dostarcza funkcjonalności rozproszonego przetwarzania oraz integracji usług opartych o standardowe mechanizmy. Funkcje transportu i transformacji wiadomości pozwalają na komunikację pomiędzy niejednorodnymi i rozproszonymi usługami. Magistrala usług może zapewniać mechanizmy bezpieczeństwa dostępu do aplikacji, wiarygodności dostarczania danych oraz audytu komunikacji. ESB powinno pozwalać na przekazywanie informacji kontekstowych np. dotyczących transakcji lub bezpieczeństwa dostępu do usług.

		Mechanizmy ESB uniezależniają klientów usług od fizycznych właściwości dostarczania usługi. Dzięki zastosowaniu magistrali usług możliwe jest dokonywanie zmian po stronie usługi lub zastąpienie usługi inną bez wpływu na aplikację kliencką. 

	\subsection{Zarządzanie procesami biznesowymi} 

		Istnieje szereg aplikacji, które realizując swoje funkcjonalności korzystają z różnorodnych usług. W ten sposób mogą powstawać skomplikowane procesy obejmujące komunikację z wieloma komponentami programowymi jak i interakcje z użytkownikami. Dla tego typu zastosowań użyteczne jest wprowadzenie mechanizmów zarządzania procesami biznesowymi(ang. Business Process Management) - technologii zapewniającej kontrolę nad przebiegiem wieloetapowych procesów obejmujących różne usługi w środowisku wielo-domenowym.

		Narzędzie zarządzania procesami biznesowymi pozwalają na automatyzację procesów. Definicja procesów opiera się o schemat organizacji zadań(ang. workflow). Narzędzie BPM umożliwiają wizualizację, modelowanie i analizę procesów biznesowych. Zarządzanie procesami biznesowymi jest dzięki temu metodologią pozwalającą na tworzenie, przedstawianie i nadzorowanie procesów biznesowych oraz upraszcza zrozumienie przebiegu procesu. Mechanizmy BPM pozwalają na monitorowania wykonania procesu biznesowego oraz dostęp do informacji o jego statusie. 

	\subsection{Zapewnienie bezpieczeństwa dostępu do usług w architekturze SOA}

		Ważnym aspektem dostarczania usług sieciowych jest zapewnienie mechanizmów bezpieczeństwa w procesie komunikacji. Mechanizmy bezpieczeństwa mogą być włączone w warstwie transportowej procesu dostarczania usług lub mogą być realizowane na poziomie wiadomości przesyłanej pomiędzy komunikującymi się jednostkami\cite{Szychowiak09}. 

		Zabezpieczenia warstwy transportowej polegają na zestawieniu szyfrowanej komunikacji pomiędzy klientem i dostawcą usług. Dzięki temu możliwe jest zapewnienie poufności wymiany wiadomości pomiędzy uczestnikami procesu komunikacji i integralności dostarczanych danych. Możliwa jest również implementacja mechanizmów uwierzytelniania w oparciu o szyfrowanie komunikatów\cite{Kolaczek09}.

		Istnieją sytuacje, w których zabezpieczenia warstwy transportowej nie są wystarczające.  Nie pozwalają one na zapewnienie bezpieczeństwa w razie konieczności przetwarzania informacji przez węzły pośrednie. Nie umożliwiają również zapewnienia poufności jedynie fragmentu wiadomości a nie całej jej treści. Rozwiązaniem tego problemów jest zastosowanie koncepcji mechanizmów bezpieczeństwa na poziomie przesyłanych wiadomości. Koncepcja ta zakłada oparcie mechanizmów bezpieczeństwa o informacje dołączane do wiadomości wymienianych pomiędzy klientem i dostawcą usługi. Przesyłane informacje mogą pozwalać na przeprowadzenie procesu uwierzytelniania lub zapewnienie integralności komunikatów. Istnieją liczne standardy opisujące format danych dołączanych do wiadomości oraz sposób ich przesyłania przy pomocy protokołów wykorzystywanych do dostarczania usług. Standardy tego typu definiują również sposób szyfrowania wymienianych wiadomości.		
%---------------------------------------------------------------------------

\section{Wymagania stawiane systemom Business-to-Business}
\label{sec:wymaganiaB2B}

Wymagania stawiane systemom Business-to-Business

%---------------------------------------------------------------------------

\section{Zakres wymagań tworzonego systemu}
\label{sec:zakresWymagan}

	W ramach projektu implementacyjnego  związanego z niniejszą pracą przygotowano przykłady ilustrujące zastosowanie mechanizmów systemów zarządzania tożsamościami. Punktem wyjścia była implementacja mechanizmu jednokrotnego uwierzytelniania oraz jednokrotnego wylogowywania dla aplikacji z interfejsem udostępnianym poprzez przeglądarkę internetową. Głównym celem projektu jest analiza mechanizmów zarządzania tożsamościami dla architektury zorientowanej na usługi.

	Przygotowywane moduły powinny korzystać z narzędzi uwierzytelniania i autoryzacji dostarczanych przez serwer aplikacyjny. Mechanizm uwierzytelniania powinien być oparty o protokół LDAP. Jako specyfikację realizującą założenia systemów zarządzania tożsamościami wybrano standard SAML opisany w dalszej części pracy.

	Najważniejszą częścią pracy było zastosowanie koncepcji systemów zarządzania tożsamościami w architekturze SOA. Praca powinna przedstawiać propozycję rozwiązania problemów uwierzytelniania i autoryzacji dostępu do usług sieciowych. W ramach projektu wymagana jest implementacja modułów wykorzystujących uwierzytelnianie oparte o mechanizmy systemów zarządzania tożsamościami dla różnych standardów dostarczania usług webowych(np. SOAP i REST). Należy również dokonać analizy zastosowania zaproponowanych mechanizmów uwierzytelniania w architekturze zorientowanej na usługi. Powinien zostać opracowany mechanizm magistrali usług pozwalający na przekazywanie informacji uwierzytelniających pomiędzy modułami systemu. Wykorzystanie zaimplementowanych usług wraz z mechanizmami zabezpieczania dostępu powinno być przedstawione w postaci modelu procesu biznesowego. 

	Dla ilustracji opisywanych mechanizmów opracowano zestaw usług dostarczających prostych funkcjonalności realizujących różne etapy dokonywania zamówienia w sklepie internetowym(usługi sprawdzania stanu magazynu, zlecenia wydania towaru,   zlecenia transportu, rejestracji transakcji w systemie finansowym). Usługi korzystają z uwierzytelniania w systemie zarządzania tożsamościami. Usługi zaimplementowane zostały przy użyciu różnych technologii.Unifikację sposobu korzystania z serwisów osiągnięto dzięki modułowi magistrali usług. Używając zaimplementowanych usług opracowano model procesu biznesowego realizujący kompletną funkcjonalność dokonywania zamówienia.
